from pathlib import Path

import pytest

from src.utils.pydantic_data_models import (
    CocoAnnotations,
    VggAnnotations,
    VggRegionAttributesSection,
    VggRegionsSection,
    VggShapeAttributesSection,
    VggStructure,
)


@pytest.fixture
def coco_json_model():
    return {
        "info": {"description": "ecco_full_ml_coco_json"},
        "images": [
            {
                "id": 1,
                "width": 4024,
                "height": 3036,
                "file_name": "frame_1619705138.132766.jpg",
            },
            {
                "id": 2,
                "width": 4024,
                "height": 3036,
                "file_name": "frame_1619705152.118158.jpg",
            },
        ],
        "annotations": [
            {
                "id": 0,
                "iscrowd": 0,
                "image_id": 1,
                "category_id": 2,
                "segmentation": [
                    [
                        1611.9305019305014,
                        638.7001287001284,
                        1657.2458172458166,
                        625.7528957528955,
                        1647.535392535392,
                        577.200772200772,
                        1582.7992277992273,
                        573.9639639639637,
                    ],
                ],
                "bbox": [
                    1582.7992277992273,
                    573.9639639639637,
                    74.44658944658931,
                    64.73616473616471,
                ],
                "area": 3211.178297713036,
            },
            {
                "id": 1,
                "iscrowd": 0,
                "image_id": 1,
                "category_id": 2,
                "segmentation": [
                    [
                        1459.8005148005143,
                        1541.7696267696263,
                        1492.1685971685965,
                        1606.505791505791,
                        1495.4054054054047,
                        1541.7696267696263,
                        1466.2741312741307,
                        1528.8223938223932,
                    ],
                ],
                "bbox": [
                    1459.8005148005143,
                    1528.8223938223932,
                    35.60489060489044,
                    77.68339768339774,
                ],
                "area": 1382.9544381667947,
            },
            {
                "id": 2,
                "iscrowd": 0,
                "image_id": 1,
                "category_id": 2,
                "segmentation": [
                    [
                        916.0167310167307,
                        1580.611325611325,
                        951.6216216216212,
                        1583.8481338481333,
                        948.384813384813,
                        1548.2432432432427,
                        890.1222651222648,
                        1551.4800514800509,
                    ],
                ],
                "bbox": [
                    890.1222651222648,
                    1548.2432432432427,
                    61.499356499356395,
                    35.60489060489067,
                ],
                "area": 1519.154496471093,
            },
            {
                "id": 3,
                "iscrowd": 0,
                "image_id": 1,
                "category_id": 2,
                "segmentation": [
                    [
                        2084.5045045045035,
                        2134.105534105533,
                        2139.5302445302436,
                        2153.5263835263827,
                        2207.5032175032165,
                        2098.5006435006426,
                        2120.1093951093944,
                        2046.7117117117107,
                    ],
                ],
                "bbox": [
                    2084.5045045045035,
                    2046.7117117117107,
                    122.99871299871302,
                    106.81467181467201,
                ],
                "area": 6914.772190833959,
            },
            {
                "id": 4,
                "iscrowd": 0,
                "image_id": 1,
                "category_id": 2,
                "segmentation": [
                    [
                        2246.3449163449154,
                        1645.3474903474896,
                        2269.002574002573,
                        1661.5315315315306,
                        2294.897039897039,
                        1648.584298584298,
                        2265.765765765765,
                        1612.9794079794074,
                    ],
                ],
                "bbox": [
                    2246.3449163449154,
                    1612.9794079794074,
                    48.5521235521237,
                    48.55212355212325,
                ],
                "area": 1173.4158869293897,
            },
            {
                "id": 5,
                "iscrowd": 0,
                "image_id": 2,
                "category_id": 1,
                "segmentation": [
                    [
                        356.79196556671445,
                        1380.7919655667147,
                        923.0473457675753,
                        1311.0989956958394,
                        1397.8307030129126,
                        1676.9870875179342,
                        1572.0631276901006,
                        2169.1936872309902,
                        1358.6284074605453,
                        2421.8307030129126,
                        1018.8751793400287,
                        2500.2352941176473,
                        526.6685796269727,
                        2069.0100430416073,
                        335.01291248206593,
                        1502.7546628407463,
                    ],
                ],
                "bbox": [
                    335.01291248206593,
                    1311.0989956958394,
                    1237.0502152080346,
                    1189.1362984218079,
                ],
                "area": 954905.9384078928,
            },
            {
                "id": 6,
                "iscrowd": 0,
                "image_id": 2,
                "category_id": 1,
                "segmentation": [
                    [
                        1074.1769488283117,
                        1315.4548063127688,
                        1184.524151123864,
                        1428.705882352941,
                        1329.717838354854,
                        1335.7819225251073,
                        1303.5829746532756,
                        1193.4921090387372,
                        1196.139646102343,
                        1106.3758967001434,
                        1109.0234337637492,
                        1173.1649928263987,
                    ],
                ],
                "bbox": [
                    1074.1769488283117,
                    1106.3758967001434,
                    255.5408895265423,
                    322.32998565279763,
                ],
                "area": 52842.15299428374,
            },
            {
                "id": 7,
                "iscrowd": 0,
                "image_id": 2,
                "category_id": 1,
                "segmentation": [
                    [
                        1840.7996174079385,
                        2366.6571018651357,
                        1901.7809660449543,
                        2285.3486370157816,
                        1983.0894308943086,
                        2256.3098995695836,
                        2032.4552845528453,
                        2369.5609756097556,
                        1927.9158297465326,
                        2450.86944045911,
                        1861.126733620277,
                        2433.4461979913913,
                    ],
                ],
                "bbox": [
                    1840.7996174079385,
                    2256.3098995695836,
                    191.65566714490683,
                    194.5595408895265,
                ],
                "area": 23197.759975628316,
            },
            {
                "id": 8,
                "iscrowd": 0,
                "image_id": 2,
                "category_id": 1,
                "segmentation": [
                    [
                        1613.7794773741234,
                        2484.043977055449,
                        1730.4524151123862,
                        2413.1190817790525,
                        1734.716379859783,
                        2365.5258126195026,
                        1621.035691523263,
                        2319.569789674952,
                        1576.5471066475368,
                        2253.4060258249638,
                        1492.3347680535628,
                        2386.9842180774745,
                    ],
                ],
                "bbox": [
                    1492.3347680535628,
                    2253.4060258249638,
                    242.38161180622023,
                    230.6379512304852,
                ],
                "area": 28237.373578150524,
            },
            {
                "id": 9,
                "iscrowd": 0,
                "image_id": 2,
                "category_id": 1,
                "segmentation": [
                    [
                        1457.488283118125,
                        2503.1391678622663,
                        1501.046389287422,
                        2436.350071736011,
                        1585.2587278813962,
                        2477.004304160688,
                        1564.9316116690577,
                        2558.3127690100428,
                        1495.2386417981825,
                        2564.120516499282,
                    ],
                ],
                "bbox": [
                    1457.488283118125,
                    2436.350071736011,
                    127.77044476327114,
                    127.77044476327092,
                ],
                "area": 10861.037749403615,
            },
            {
                "id": 10,
                "iscrowd": 0,
                "image_id": 2,
                "category_id": 1,
                "segmentation": [
                    [
                        2087.6288857006216,
                        2357.9454806312765,
                        2078.917264466762,
                        2273.7331420373025,
                        2168.9373505499757,
                        2198.2324246771877,
                        2296.707795313247,
                        2299.8680057388806,
                        2200.8799617407935,
                        2392.791965566714,
                    ],
                ],
                "bbox": [
                    2078.917264466762,
                    2198.2324246771877,
                    217.79053084648513,
                    194.5595408895265,
                ],
                "area": 25385.98924268593,
            },
            {
                "id": 11,
                "iscrowd": 0,
                "image_id": 2,
                "category_id": 1,
                "segmentation": [
                    [
                        1936.6274509803918,
                        2221.463414634146,
                        2020.839789574366,
                        2198.2324246771877,
                        2052.782400765184,
                        2114.0200860832133,
                        1991.801052128168,
                        2084.9813486370153,
                        1895.9732185557148,
                        2131.443328550932,
                    ],
                ],
                "bbox": [
                    1895.9732185557148,
                    2084.9813486370153,
                    156.8091822094691,
                    136.48206599713058,
                ],
                "area": 13394.998808173608,
            },
            {
                "id": 12,
                "iscrowd": 0,
                "image_id": 2,
                "category_id": 1,
                "segmentation": [
                    [
                        2136.994739359158,
                        2119.827833572453,
                        2163.1296030607364,
                        2050.1348637015776,
                        2238.630320420851,
                        2099.5007173601143,
                        2218.3032042085124,
                        2140.1549497847914,
                    ],
                ],
                "bbox": [
                    2136.994739359158,
                    2050.1348637015776,
                    101.6355810616933,
                    90.02008608321376,
                ],
                "area": 5135.381979337573,
            },
            {
                "id": 13,
                "iscrowd": 0,
                "image_id": 2,
                "category_id": 3,
                "segmentation": [
                    [
                        2227.0148254423716,
                        2038.5193687230988,
                        2340.265901482544,
                        2012.3845050215205,
                        2424.478240076518,
                        2111.1162123385934,
                        2287.9961740793874,
                        2160.48206599713,
                    ],
                ],
                "bbox": [
                    2227.0148254423716,
                    2012.3845050215205,
                    197.46341463414637,
                    148.09756097560967,
                ],
                "area": 16519.233657672055,
            },
            {
                "id": 14,
                "iscrowd": 0,
                "image_id": 2,
                "category_id": 1,
                "segmentation": [
                    [
                        1634.624581539933,
                        2235.982783357245,
                        1759.4911525585842,
                        2233.078909612625,
                        1776.914395026303,
                        2328.9067431850785,
                        1707.2214251554278,
                        2334.7144906743183,
                        1634.624581539933,
                        2308.57962697274,
                    ],
                ],
                "bbox": [
                    1634.624581539933,
                    2233.078909612625,
                    142.28981348637012,
                    101.6355810616933,
                ],
                "area": 12294.559812601256,
            },
            {
                "id": 15,
                "iscrowd": 0,
                "image_id": 2,
                "category_id": 1,
                "segmentation": [
                    [
                        1683.9904351984694,
                        2195.328550932568,
                        1759.4911525585842,
                        2186.616929698708,
                        1759.4911525585842,
                        2119.827833572453,
                        1689.798182687709,
                        2111.1162123385934,
                        1657.8555714968913,
                        2160.48206599713,
                    ],
                ],
                "bbox": [
                    1657.8555714968913,
                    2111.1162123385934,
                    101.63558106169285,
                    84.21233859397444,
                ],
                "area": 6682.742559318591,
            },
            {
                "id": 16,
                "iscrowd": 0,
                "image_id": 2,
                "category_id": 1,
                "segmentation": [
                    [
                        1820.4725011956,
                        2201.136298421807,
                        1864.030607364897,
                        2177.905308464849,
                        1893.0693448110949,
                        2105.308464849354,
                        1805.953132472501,
                        2087.8852223816352,
                        1774.0105212816832,
                        2137.251076040172,
                        1765.2989000478237,
                        2183.7130559540888,
                    ],
                ],
                "bbox": [
                    1765.2989000478237,
                    2087.8852223816352,
                    127.77044476327114,
                    113.25107604017194,
                ],
                "area": 9575.084133888013,
            },
            {
                "id": 17,
                "iscrowd": 0,
                "image_id": 2,
                "category_id": 1,
                "segmentation": [
                    [
                        2392.5356288857,
                        2314.3873744619796,
                        2264.765184122429,
                        2047.230989956958,
                        2270.5729316116685,
                        1614.553802008608,
                        2464.7877629063096,
                        1361.265774378585,
                        2799.077953132472,
                        1251.5695839311331,
                        2764.2314681970347,
                        1623.2654232424675,
                        2595.8067910090863,
                        2035.6154949784789,
                    ],
                ],
                "bbox": [
                    2264.765184122429,
                    1251.5695839311331,
                    534.3127690100428,
                    1062.8177905308464,
                ],
                "area": 342639.770864267,
            },
            {
                "id": 18,
                "iscrowd": 0,
                "image_id": 2,
                "category_id": 3,
                "segmentation": [
                    [
                        2131.1869918699185,
                        2018.19225251076,
                        2195.072214251554,
                        1968.8263988522235,
                        2168.9373505499757,
                        1890.4218077474889,
                        2107.2020395156146,
                        1939.8279158699806,
                    ],
                ],
                "bbox": [
                    2107.2020395156146,
                    1890.4218077474889,
                    87.8701747359396,
                    127.77044476327114,
                ],
                "area": 6160.957220597265,
            },
            {
                "id": 19,
                "iscrowd": 0,
                "image_id": 2,
                "category_id": 1,
                "segmentation": [
                    [
                        1787.773450843751,
                        2489.034638245541,
                        1804.3670150987214,
                        2412.289403566303,
                        1866.59288105486,
                        2470.366878458699,
                        1825.1089704174342,
                        2547.112113137937,
                    ],
                ],
                "bbox": [
                    1787.773450843751,
                    2412.289403566303,
                    78.81943021110897,
                    134.82270957163382,
                ],
                "area": 5506.927493676543,
            },
            {
                "id": 20,
                "iscrowd": 0,
                "image_id": 2,
                "category_id": 1,
                "segmentation": [
                    [
                        1580.3538976566228,
                        2030.637425701987,
                        1611.466830634692,
                        2051.3793810207,
                        1640.50556808089,
                        1993.301906128304,
                        1596.947461911593,
                        1980.8567329370762,
                        1563.7603334016526,
                        1999.5244927239178,
                    ],
                ],
                "bbox": [
                    1563.7603334016526,
                    1980.8567329370762,
                    76.74523467923746,
                    70.52264808362361,
                ],
                "area": 3063.228418357561,
            },
            {
                "id": 21,
                "iscrowd": 0,
                "image_id": 2,
                "category_id": 1,
                "segmentation": [
                    [
                        1555.4635512741675,
                        1877.1469563435119,
                        1802.29281956685,
                        1987.07931953269,
                        2237.87388125982,
                        1771.3629842180765,
                        2255.8087954110897,
                        1602.1720841300191,
                        2449.4418255106907,
                        1354.4496823119484,
                        2347.806244448998,
                        1049.5429391268697,
                        1947.48650679784,
                        854.568559130969,
                        1904.6080305927342,
                        972.3326959847036,
                        1482.8667076586723,
                        983.1686821069886,
                        1356.340780214524,
                        1221.7011682721861,
                        1358.4149757463954,
                        1532.8304980528787,
                        1499.4602719136428,
                        1816.9952859192447,
                        1549.2409646785536,
                        1887.5179340028683,
                    ],
                ],
                "bbox": [
                    1356.340780214524,
                    854.568559130969,
                    1093.1010452961666,
                    1132.5107604017212,
                ],
                "area": 860667.8180103533,
            },
            {
                "id": 22,
                "iscrowd": 0,
                "image_id": 2,
                "category_id": 1,
                "segmentation": [
                    [
                        2463.9611942337897,
                        474.990776798524,
                        2163.2028421124537,
                        736.3394138143058,
                        1762.8831044612957,
                        688.6329165812663,
                        1599.8470363288718,
                        383.1281070745698,
                        1408.2829827915868,
                        214.78393881453155,
                        1358.4149757463954,
                        165.93564254970272,
                        1856.2219033955037,
                        178.38081574093042,
                        2237.87388125982,
                        333.9454806312767,
                    ],
                ],
                "bbox": [
                    1358.4149757463954,
                    165.93564254970272,
                    1105.5462184873943,
                    570.403771264603,
                ],
                "area": 346599.2096522626,
            },
            {
                "id": 23,
                "iscrowd": 0,
                "image_id": 2,
                "category_id": 3,
                "segmentation": [
                    [
                        2161.1286465805824,
                        1648.9854478376708,
                        2237.87388125982,
                        1626.1692969870867,
                        2277.2835963653743,
                        1692.5435540069677,
                        2196.3899706223942,
                        1717.4339003894231,
                    ],
                ],
                "bbox": [
                    2161.1286465805824,
                    1626.1692969870867,
                    116.15494978479182,
                    91.26460340233643,
                ],
                "area": 6203.898004594987,
            },
            {
                "id": 24,
                "iscrowd": 0,
                "image_id": 2,
                "category_id": 3,
                "segmentation": [
                    [
                        2163.2028421124537,
                        1592.982168477146,
                        2175.6480153036814,
                        1522.4595203935223,
                        2256.5416410466614,
                        1534.90469358475,
                        2254.46744551479,
                        1607.5015372002451,
                        2186.018992963038,
                        1628.243492518958,
                    ],
                ],
                "bbox": [
                    2163.2028421124537,
                    1522.4595203935223,
                    93.33879893420772,
                    105.78397212543564,
                ],
                "area": 7701.093916938276,
            },
            {
                "id": 25,
                "iscrowd": 0,
                "image_id": 2,
                "category_id": 3,
                "segmentation": [
                    [
                        1530.573204891712,
                        1696.6919450707103,
                        1578.2797021247516,
                        1586.759581881532,
                        1677.8410876545731,
                        1609.5757327321164,
                        1690.2862608458008,
                        1696.6919450707103,
                        1630.1345904215336,
                        1781.7339618774329,
                    ],
                ],
                "bbox": [
                    1530.573204891712,
                    1586.759581881532,
                    159.71305595408876,
                    194.9743799959008,
                ],
                "area": 19764.706957773422,
            },
            {
                "id": 26,
                "iscrowd": 0,
                "image_id": 2,
                "category_id": 3,
                "segmentation": [
                    [
                        1364.6375623420092,
                        1584.6853863496608,
                        1321.0794561727123,
                        1512.088542734166,
                        1341.8214114914251,
                        1435.3433080549285,
                        1426.8634282981477,
                        1489.2723918835818,
                    ],
                ],
                "bbox": [
                    1321.0794561727123,
                    1435.3433080549285,
                    105.78397212543541,
                    149.34207829473235,
                ],
                "area": 8159.287493560594,
            },
            {
                "id": 27,
                "iscrowd": 0,
                "image_id": 2,
                "category_id": 3,
                "segmentation": [
                    [
                        1414.41825510692,
                        1335.781922525107,
                        1358.4149757463954,
                        1325.4109448657505,
                        1348.043998087039,
                        1271.4818610370971,
                        1393.6762997882072,
                        1242.4431235908992,
                        1445.5311880849893,
                        1261.1108833777407,
                    ],
                ],
                "bbox": [
                    1348.043998087039,
                    1242.4431235908992,
                    97.48718999795028,
                    93.33879893420772,
                ],
                "area": 6113.549975401842,
            },
            {
                "id": 28,
                "iscrowd": 0,
                "image_id": 2,
                "category_id": 3,
                "segmentation": [
                    [
                        1555.4251786253392,
                        1063.2263258528728,
                        1632.208785953405,
                        1113.8430006148794,
                        1609.3926351028208,
                        1217.5527772084436,
                        1524.3506182960982,
                        1165.6978889116615,
                        1516.053836168613,
                        1057.8397212543548,
                    ],
                ],
                "bbox": [
                    1516.053836168613,
                    1057.8397212543548,
                    116.15494978479182,
                    159.71305595408876,
                ],
                "area": 11822.837031198782,
            },
            {
                "id": 29,
                "iscrowd": 0,
                "image_id": 2,
                "category_id": 3,
                "segmentation": [
                    [
                        1584.5022887203654,
                        1012.2074195531866,
                        1659.1733278677316,
                        1043.3203525312558,
                        1677.8410876545731,
                        999.7622463619589,
                        1684.063674250187,
                        914.7202295552362,
                        1561.6861378697813,
                        943.7589670014341,
                    ],
                ],
                "bbox": [
                    1561.6861378697813,
                    914.7202295552362,
                    122.37753638040567,
                    128.60012297601963,
                ],
                "area": 10366.360778135662,
            },
            {
                "id": 30,
                "iscrowd": 0,
                "image_id": 2,
                "category_id": 3,
                "segmentation": [
                    [
                        2059.4930655188896,
                        889.8298831727808,
                        2134.1641046662558,
                        869.087927854068,
                        2152.8318644530973,
                        966.5751178520183,
                        2094.7543895607014,
                        981.0944865751173,
                        2049.122087859533,
                        947.9073580651767,
                    ],
                ],
                "bbox": [
                    2049.122087859533,
                    869.087927854068,
                    103.70977659356413,
                    112.00655872104937,
                ],
                "area": 8236.728661440357,
            },
            {
                "id": 31,
                "iscrowd": 0,
                "image_id": 2,
                "category_id": 1,
                "segmentation": [
                    [
                        2497.14832274373,
                        896.0524697683946,
                        2468.1095852975322,
                        837.9749948759987,
                        2504.84293908768,
                        781.5979240644631,
                        2580.1161440185815,
                        786.1201065792166,
                        2615.3774680603933,
                        844.1975814716126,
                    ],
                ],
                "bbox": [
                    2468.1095852975322,
                    781.5979240644631,
                    147.26788276286106,
                    114.45454570393156,
                ],
                "area": 10557.78928066956,
            },
            {
                "id": 32,
                "iscrowd": 0,
                "image_id": 2,
                "category_id": 3,
                "segmentation": [
                    [
                        2069.864043178246,
                        748.7845870055335,
                        2113.422149347543,
                        696.9296987087514,
                        2156.98025551684,
                        643.000614880098,
                        2256.5416410466614,
                        682.4103299856524,
                        2231.651294664206,
                        765.3781512605037,
                        2345.7320489171266,
                        869.087927854068,
                        2244.0964678554337,
                        962.4267267882757,
                    ],
                ],
                "bbox": [
                    2069.864043178246,
                    643.000614880098,
                    275.8680057388806,
                    319.42611190817763,
                ],
                "area": 40286.61644592736,
            },
            {
                "id": 33,
                "iscrowd": 0,
                "image_id": 2,
                "category_id": 2,
                "segmentation": [
                    [
                        2596.7097082735518,
                        1225.8495593359287,
                        2658.9355742296902,
                        1165.6978889116615,
                        2727.3840267814426,
                        1207.1817995490871,
                        2735.6808089089277,
                        1286.001229760196,
                        2665.158160825304,
                        1312.9657716745228,
                    ],
                ],
                "bbox": [
                    2596.7097082735518,
                    1165.6978889116615,
                    138.97110063537593,
                    147.2678827628613,
                ],
                "area": 12571.28291915846,
            },
            {
                "id": 34,
                "iscrowd": 0,
                "image_id": 2,
                "category_id": 2,
                "segmentation": [
                    [
                        2515.8160825305717,
                        1088.952654232424,
                        2555.225797636126,
                        1124.2139782742358,
                        2602.9322948691656,
                        1086.8784587005528,
                        2619.525859124136,
                        1024.6525927444143,
                        2557.2999931679974,
                        972.7977044476321,
                        2490.9257361481164,
                        1008.059028489444,
                    ],
                ],
                "bbox": [
                    2490.9257361481164,
                    972.7977044476321,
                    128.60012297601952,
                    151.41627382660374,
                ],
                "area": 12082.973332805108,
            },
            {
                "id": 35,
                "iscrowd": 0,
                "image_id": 2,
                "category_id": 2,
                "segmentation": [
                    [
                        2349.880439980869,
                        777.8233244517314,
                        2414.180501468879,
                        835.9007993441274,
                        2474.332171893146,
                        802.7136708341869,
                        2507.5193004030866,
                        746.7103914736622,
                        2482.628954020631,
                        680.3361344537811,
                        2397.5869372139086,
                        676.1877433900386,
                        2349.880439980869,
                        715.597458495593,
                    ],
                ],
                "bbox": [
                    2349.880439980869,
                    676.1877433900386,
                    157.63886042221748,
                    159.71305595408887,
                ],
                "area": 18235.24389214687,
            },
            {
                "id": 36,
                "iscrowd": 0,
                "image_id": 2,
                "category_id": 2,
                "segmentation": [
                    [
                        1889.4090319054442,
                        1993.301906128304,
                        1908.0767916922857,
                        1960.1147776183634,
                        1945.4123112659688,
                        1985.0051240008188,
                        1926.7445514791273,
                        2014.0438614470168,
                    ],
                ],
                "bbox": [
                    1889.4090319054442,
                    1960.1147776183634,
                    56.00327936052463,
                    53.92908382865335,
                ],
                "area": 1587.543941536438,
            },
            {
                "id": 37,
                "iscrowd": 0,
                "image_id": 2,
                "category_id": 2,
                "segmentation": [
                    [
                        2011.7865682858499,
                        1939.3728222996504,
                        2067.7898476463747,
                        1910.3340848534524,
                        2138.6456341618864,
                        1934.9904397705543,
                        2100.9769761563152,
                        2016.118056978888,
                        2065.7156521145034,
                        2001.598688255789,
                    ],
                ],
                "bbox": [
                    2011.7865682858499,
                    1910.3340848534524,
                    126.85906587603654,
                    105.78397212543564,
                ],
                "area": 7488.122375458446,
            },
            {
                "id": 38,
                "iscrowd": 0,
                "image_id": 2,
                "category_id": 2,
                "segmentation": [
                    [
                        1182.1083555373364,
                        2528.4443533510953,
                        1184.1825510692076,
                        2472.44107399057,
                        1233.9632438341184,
                        2491.108833777412,
                        1231.8890483022471,
                        2534.666939946709,
                    ],
                ],
                "bbox": [
                    1182.1083555373364,
                    2472.44107399057,
                    51.854888296782065,
                    62.22586595613893,
                ],
                "area": 2503.9310947810663,
            },
            {
                "id": 39,
                "iscrowd": 0,
                "image_id": 2,
                "category_id": 2,
                "segmentation": [
                    [
                        435.39796406367395,
                        1219.6269727403148,
                        543.2561317209808,
                        1271.4818610370971,
                        605.4819976771192,
                        1200.9592129534733,
                        613.7787798046044,
                        1155.326911252305,
                        547.4045227847233,
                        1088.952654232424,
                        464.4367015098719,
                        1113.8430006148794,
                    ],
                ],
                "bbox": [
                    435.39796406367395,
                    1088.952654232424,
                    178.38081574093042,
                    182.5292068046731,
                ],
                "area": 21300.6234540567,
            },
            {
                "id": 40,
                "iscrowd": 0,
                "image_id": 2,
                "category_id": 2,
                "segmentation": [
                    [
                        949.7984559677524,
                        1082.7300676368102,
                        999.5791487326632,
                        1051.617134658741,
                        993.3565621370493,
                        1012.2074195531866,
                        933.2048917127821,
                        995.6138552982163,
                        908.3145453303267,
                        1043.3203525312558,
                    ],
                ],
                "bbox": [
                    908.3145453303267,
                    995.6138552982163,
                    91.26460340233643,
                    87.11621233859387,
                ],
                "area": 5040.129342845357,
            },
            {
                "id": 41,
                "iscrowd": 0,
                "image_id": 2,
                "category_id": 2,
                "segmentation": [
                    [
                        920.7597185215544,
                        1159.4753023160476,
                        949.7984559677524,
                        1132.510760401721,
                        997.5049532007919,
                        1173.9946710391466,
                        947.7242604358811,
                        1192.6624308259882,
                    ],
                ],
                "bbox": [
                    920.7597185215544,
                    1132.510760401721,
                    76.74523467923746,
                    60.151670424267195,
                ],
                "area": 2323.2350363947917,
            },
            {
                "id": 42,
                "iscrowd": 0,
                "image_id": 2,
                "category_id": 2,
                "segmentation": [
                    [
                        1229.8148527703759,
                        792.3426931748304,
                        1256.7793946847025,
                        804.7878663660582,
                        1292.0407187265143,
                        794.4168887067017,
                        1300.3375008539995,
                        765.3781512605037,
                        1254.7051991528313,
                        742.5620004099196,
                        1227.7406572385046,
                        759.1555646648899,
                    ],
                ],
                "bbox": [
                    1227.7406572385046,
                    742.5620004099196,
                    72.59684361549489,
                    62.22586595613859,
                ],
                "area": 3155.727591102932,
            },
            {
                "id": 43,
                "iscrowd": 0,
                "image_id": 2,
                "category_id": 2,
                "segmentation": [
                    [
                        1289.966523194643,
                        707.3006763681078,
                        1343.8956070232964,
                        665.8167657306822,
                        1410.2698640431774,
                        701.078089772494,
                        1387.4537131925933,
                        761.2297601967612,
                        1341.8214114914251,
                        790.2684976429591,
                        1306.5600874496133,
                        771.6007378561176,
                    ],
                ],
                "bbox": [
                    1289.966523194643,
                    665.8167657306822,
                    120.30334084853439,
                    124.45173191227695,
                ],
                "area": 9499.449926592035,
            },
            {
                "id": 44,
                "iscrowd": 0,
                "image_id": 2,
                "category_id": 1,
                "segmentation": [
                    [
                        1730.4588910133841,
                        821.4034416826004,
                        1747.8738049713193,
                        737.2313575525812,
                        1874.8896631823452,
                        740.4878048780483,
                        1908.0767916922857,
                        856.6427546628403,
                        1879.0380542460878,
                        943.7589670014341,
                        1814.7379927580778,
                        943.7589670014341,
                        1713.0439770554492,
                        885.2581261950287,
                    ],
                ],
                "bbox": [
                    1713.0439770554492,
                    737.2313575525812,
                    195.03281463683652,
                    206.5276094488529,
                ],
                "area": 31043.102543512883,
            },
            {
                "id": 45,
                "iscrowd": 0,
                "image_id": 2,
                "category_id": 1,
                "segmentation": [
                    [
                        630.3723440595746,
                        1254.8882967821269,
                        705.0433832069408,
                        1192.6624308259882,
                        742.378902780624,
                        1277.704447632711,
                        725.7853385256537,
                        1350.3012912482059,
                    ],
                ],
                "bbox": [
                    630.3723440595746,
                    1192.6624308259882,
                    112.00655872104937,
                    157.6388604222177,
                ],
                "area": 8591.667347556308,
            },
            {
                "id": 46,
                "iscrowd": 0,
                "image_id": 2,
                "category_id": 1,
                "segmentation": [
                    [
                        727.859534057525,
                        1138.7333469973348,
                        769.3434446949507,
                        1080.655872104939,
                        812.9015508642476,
                        1136.6591514654635,
                        758.9724670355943,
                        1205.1076040172159,
                        715.4143608662973,
                        1178.1430621028892,
                        709.1917742706834,
                        1140.807542529206,
                    ],
                ],
                "bbox": [
                    709.1917742706834,
                    1080.655872104939,
                    103.70977659356424,
                    124.45173191227695,
                ],
                "area": 6662.0915812172825,
            },
            {
                "id": 47,
                "iscrowd": 0,
                "image_id": 2,
                "category_id": 1,
                "segmentation": [
                    [
                        1202.2065009560229,
                        217.6864244741874,
                        1245.7437858508604,
                        940.4053537284894,
                        1038.9888638382176,
                        1180.2172576347605,
                        755.1274697259399,
                        1061.8260038240917,
                        460.04142766093037,
                        1093.2695984703632,
                        372.96685787125546,
                        1216.6252390057361,
                        404.41045251752695,
                        1042.476099426386,
                        479.39133205863595,
                        856.2332695984703,
                        609.6303887408618,
                        616.0360729657713,
                        937.3532827765247,
                        329.79708956753416,
                    ],
                ],
                "bbox": [
                    372.96685787125546,
                    217.6864244741874,
                    872.7769279796049,
                    998.9388145315488,
                ],
                "area": 500704.0800533359,
            },
            {
                "id": 48,
                "iscrowd": 0,
                "image_id": 2,
                "category_id": 1,
                "segmentation": [
                    [
                        1339.7472159595538,
                        954.1299446607906,
                        1698.583042973286,
                        875.3105144496818,
                        1740.0669536107116,
                        701.078089772494,
                        1574.131311061009,
                        387.87456445993007,
                        1319.005260640841,
                        176.30662020905913,
                        1227.7406572385046,
                        197.04857552777196,
                        1260.927785748445,
                        906.4234474277511,
                    ],
                ],
                "bbox": [
                    1227.7406572385046,
                    176.30662020905913,
                    512.326296372207,
                    777.8233244517314,
                ],
                "area": 273212.44028002734,
            },
            {
                "id": 49,
                "iscrowd": 0,
                "image_id": 2,
                "category_id": 4,
                "segmentation": [
                    [
                        926.9823051171683,
                        1402.156179544988,
                        978.8371934139503,
                        1391.7852018856315,
                        1051.4340370294453,
                        1441.5658946505423,
                        997.5049532007919,
                        1499.6433695429382,
                        922.8339140534257,
                        1493.4207829473244,
                    ],
                ],
                "bbox": [
                    922.8339140534257,
                    1391.7852018856315,
                    128.60012297601963,
                    107.8581676573067,
                ],
                "area": 9764.040583514774,
            },
            {
                "id": 50,
                "iscrowd": 0,
                "image_id": 2,
                "category_id": 3,
                "segmentation": [
                    [
                        1814.7379927580778,
                        1203.0334084853446,
                        1858.296098927375,
                        1122.1397827423646,
                        1895.631618501058,
                        1165.6978889116615,
                        1883.1864453098303,
                        1225.8495593359287,
                    ],
                ],
                "bbox": [
                    1814.7379927580778,
                    1122.1397827423646,
                    80.89362574298025,
                    103.70977659356413,
                ],
                "area": 4659.3769341028965,
            },
            {
                "id": 51,
                "iscrowd": 0,
                "image_id": 2,
                "category_id": 3,
                "segmentation": [
                    [
                        1984.8220263715232,
                        1076.5074810411963,
                        2036.6769146683052,
                        1039.1719614675133,
                        2152.8318644530973,
                        1099.3236318917805,
                        2088.5318029650875,
                        1151.1785201885625,
                        1988.9704174352657,
                        1142.8817380610774,
                    ],
                ],
                "bbox": [
                    1984.8220263715232,
                    1039.1719614675133,
                    168.00983808157412,
                    112.00655872104926,
                ],
                "area": 12104.484768327318,
            },
            {
                "id": 52,
                "iscrowd": 0,
                "image_id": 2,
                "category_id": 3,
                "segmentation": [
                    [
                        1946.4165103189491,
                        2043.8803664054738,
                        1989.9746164882463,
                        2010.3741308906299,
                        2053.6364639664494,
                        2020.426001545083,
                        2023.48085200309,
                        2057.2828606114113,
                        1969.87087517934,
                        2074.035978368833,
                    ],
                ],
                "bbox": [
                    1946.4165103189491,
                    2010.3741308906299,
                    107.21995364750023,
                    63.6618474782033,
                ],
                "area": 3912.4973470409896,
            },
        ],
        "categories": [
            {"id": 1, "name": "Moisissure"},
            {"id": 2, "name": "Levure"},
            {"id": 3, "name": "Moisissure_superposée"},
            {"id": 4, "name": "Levure_superposée"},
        ],
    }


@pytest.fixture
def vgg_json_model():
    return {
        "frame_1619705354.708983.jpg": {
            "fileref": "",
            "size": 2544142,
            "filename": "frame_1619705354.708983.jpg",
            "base64_img_data": "",
            "file_attributes": {},
            "regions": {
                "0": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            1593.2920931278818,
                            1603.5361601619613,
                            1658.171184343718,
                            1692.318074457316,
                            1688.9033854459562,
                            1644.5124282982788,
                            1593.2920931278818,
                        ],
                        "all_points_y": [
                            1775.6382859070968,
                            1837.1026881115733,
                            1854.1761331683722,
                            1813.1998650320547,
                            1763.6868743673376,
                            1743.1987402991788,
                            1775.6382859070968,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "1": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            1400.362163986053,
                            1427.6796760769314,
                            1419.142953548532,
                            1395.2401304690134,
                            1388.4107524462938,
                            1400.362163986053,
                        ],
                        "all_points_y": [
                            1864.4202002024517,
                            1845.6394106399728,
                            1825.151276571814,
                            1821.7365875604542,
                            1833.6879991002136,
                            1864.4202002024517,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "2": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            1513.0469013609265,
                            1528.4130019120457,
                            1550.6084804858842,
                            1530.1203464177256,
                            1519.876279383646,
                            1513.0469013609265,
                        ],
                        "all_points_y": [
                            2243.4506804633897,
                            2257.109436508829,
                            2241.74333595771,
                            2219.547857383871,
                            2219.547857383871,
                            2243.4506804633897,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "3": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            1082.7960859295915,
                            1110.11359802047,
                            1079.3813969182318,
                            1074.259363401192,
                            1082.7960859295915,
                        ],
                        "all_points_y": [
                            2187.108311775953,
                            2176.8642447418733,
                            2152.961421662355,
                            2170.034866719154,
                            2187.108311775953,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "4": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            1244.9938139691822,
                            1272.3113260600605,
                            1277.4333595771002,
                            1248.408502980542,
                            1244.9938139691822,
                        ],
                        "all_points_y": [
                            1825.151276571814,
                            1831.9806545945335,
                            1816.6145540434145,
                            1799.5411089866154,
                            1825.151276571814,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "5": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            1946.712405803621,
                            1953.5417838263406,
                            1968.9078843774598,
                            1975.7372624001794,
                            1963.7858508604202,
                            1950.1270948149809,
                            1946.712405803621,
                        ],
                        "all_points_y": [
                            1893.44505679901,
                            1907.1038128444493,
                            1908.8111573501292,
                            1898.5670903160496,
                            1879.7863007535707,
                            1878.0789562478908,
                            1893.44505679901,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "6": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            2262.571139354403,
                            2274.522550894162,
                            2286.4739624339213,
                            2262.571139354403,
                            2262.571139354403,
                        ],
                        "all_points_y": [
                            2193.9376897986726,
                            2197.3523788100324,
                            2178.571589247553,
                            2168.327522213474,
                            2193.9376897986726,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "7": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            2649.484809857657,
                            2674.47843637136,
                            2667.211787200539,
                            2645.453579774802,
                            2649.484809857657,
                        ],
                        "all_points_y": [
                            2031.7399617590813,
                            2028.514977692797,
                            2007.8371386795634,
                            2016.421287444231,
                            2031.7399617590813,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "8": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            1422.4929436401706,
                            1430.785759810616,
                            1414.2001274697254,
                            1405.9073112992803,
                            1422.4929436401706,
                        ],
                        "all_points_y": [
                            1394.5752526632064,
                            1364.1682600382405,
                            1360.0218519530179,
                            1379.3717563507234,
                            1394.5752526632064,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "9": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            1198.5869070381495,
                            1216.5546754074476,
                            1231.7581717199305,
                            1208.2618592370022,
                            1193.0583629245193,
                            1198.5869070381495,
                        ],
                        "all_points_y": [
                            1384.9003004643537,
                            1386.2824364927612,
                            1377.989620322316,
                            1364.1682600382405,
                            1365.550396066648,
                            1384.9003004643537,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "10": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            1414.2001274697254,
                            1411.4358554129105,
                            1400.37876718565,
                            1396.2323591004276,
                            1397.614495128835,
                            1414.2001274697254,
                        ],
                        "all_points_y": [
                            1111.237366839661,
                            1100.1802786124008,
                            1094.6517344987706,
                            1108.473094782846,
                            1118.1480469816986,
                            1111.237366839661,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "11": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            828.1744514249292,
                            854.4350359646724,
                            864.1099881635251,
                            851.6707639078573,
                            835.0851315669669,
                            828.1744514249292,
                        ],
                        "all_points_y": [
                            1217.6618410270414,
                            1231.4832013111168,
                            1210.7511608850039,
                            1192.7833925157058,
                            1194.1655285441134,
                            1217.6618410270414,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "12": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            754.9212419193296,
                            783.9460985158879,
                            779.7996904306654,
                            757.6855139761446,
                            754.9212419193296,
                        ],
                        "all_points_y": [
                            1339.289811526905,
                            1343.4362196121274,
                            1311.647090958754,
                            1317.1756350723842,
                            1339.289811526905,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "13": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            1437.6964399526535,
                            1461.1927524355817,
                            1458.4284803787666,
                            1437.6964399526535,
                            1430.785759810616,
                            1437.6964399526535,
                        ],
                        "all_points_y": [
                            1010.3414367659107,
                            997.9022125102429,
                            978.5523081125373,
                            975.7880360557223,
                            990.9915323682052,
                            1010.3414367659107,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "14": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            1696.1558772648632,
                            1696.1558772648632,
                            1711.359373577346,
                            1721.034325776199,
                            1712.7415096057537,
                            1696.1558772648632,
                        ],
                        "all_points_y": [
                            981.3165801693524,
                            1008.9593007375032,
                            1003.430756623873,
                            986.8451242829825,
                            967.495219885277,
                            981.3165801693524,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "15": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            2218.603296002913,
                            2243.4817445142485,
                            2249.0102886278787,
                            2249.0102886278787,
                            2224.131840116543,
                            2218.603296002913,
                        ],
                        "all_points_y": [
                            775.3783119366292,
                            786.4354001638894,
                            767.085495766184,
                            756.0284075389236,
                            754.646271510516,
                            775.3783119366292,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "16": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            2246.2460165710636,
                            2268.360193025584,
                            2269.742329053992,
                            2254.538832741509,
                            2236.571064372211,
                            2246.2460165710636,
                        ],
                        "all_points_y": [
                            675.8645178912864,
                            670.3359737776562,
                            650.9860693799507,
                            649.6039333515431,
                            670.3359737776562,
                            675.8645178912864,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "17": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            2658.12255303651,
                            2678.854593462623,
                            2694.058089775106,
                            2684.3831375762534,
                            2665.0332331785476,
                            2656.7404170081027,
                            2658.12255303651,
                        ],
                        "all_points_y": [
                            825.1352089593005,
                            838.956569243376,
                            829.2816170445232,
                            805.785304561595,
                            790.5818082491121,
                            809.9317126468176,
                            825.1352089593005,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "18": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            1924.208321952107,
                            1939.41181826459,
                            1942.1760903214051,
                            1922.8261859236995,
                            1924.208321952107,
                        ],
                        "all_points_y": [
                            440.9013930620048,
                            440.9013930620048,
                            418.7872166074842,
                            418.7872166074842,
                            440.9013930620048,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "19": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            2000.2258035145217,
                            2029.25066011108,
                            2022.3399799690424,
                            1994.6972594008917,
                            2000.2258035145217,
                        ],
                        "all_points_y": [
                            389.7623600109259,
                            388.3802239825183,
                            362.1196394427751,
                            359.35536738596005,
                            389.7623600109259,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "20": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            1574.527906765,
                            1621.5205317308562,
                            1632.5776199581164,
                            1615.991987617226,
                            1581.4385869070375,
                            1574.527906765,
                        ],
                        "all_points_y": [
                            288.86642993717555,
                            298.54138213602835,
                            272.2807975962851,
                            258.45943731220973,
                            259.84157334061723,
                            288.86642993717555,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "21": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            2706.497314030774,
                            2713.4079941728114,
                            2731.3757625421094,
                            2717.5544022580343,
                            2689.9116816898836,
                            2706.497314030774,
                        ],
                        "all_points_y": [
                            818.2245288172628,
                            829.2816170445232,
                            808.54957661841,
                            780.9068560502593,
                            798.8746244195573,
                            818.2245288172628,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "22": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            2457.712828917417,
                            2474.2984612583073,
                            2488.119821542383,
                            2486.7376855139755,
                            2474.2984612583073,
                            2457.712828917417,
                        ],
                        "all_points_y": [
                            568.0579076754983,
                            576.3507238459435,
                            569.4400437039059,
                            554.236547391423,
                            545.9437312209777,
                            568.0579076754983,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "23": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            2367.873987070927,
                            2405.1916598379307,
                            2398.2809796958927,
                            2372.02039515615,
                            2367.873987070927,
                        ],
                        "all_points_y": [
                            436.75498497678217,
                            428.46216880633693,
                            407.7301283802239,
                            407.7301283802239,
                            436.75498497678217,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "24": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            618.8068833652006,
                            958.3977055449329,
                            1300.891013384321,
                            1817.5334608030591,
                            2403.835564053537,
                            2850.818355640535,
                            3083.0172084130013,
                            2966.9177820267687,
                            2563.4722753346077,
                            2052.6347992351816,
                            1599.8470363288718,
                            1187.6940726577436,
                            792.9560229445506,
                            569.4646271510514,
                            491.09751434034405,
                            618.8068833652006,
                        ],
                        "all_points_y": [
                            780.7686424474188,
                            368.6156787762906,
                            165.44168260038242,
                            95.78202676864245,
                            229.2963671128107,
                            618.2294455066922,
                            1242.263862332696,
                            1906.9330783938815,
                            2411.965583173996,
                            2649.9694072657744,
                            2670.286806883365,
                            2533.869980879541,
                            2197.181644359465,
                            1767.6137667304015,
                            1329.338432122371,
                            780.7686424474188,
                        ],
                    },
                    "region_attributes": {"label": "Petri_box"},
                },
            },
        },
        "frame_1619705341.253052.jpg": {
            "fileref": "",
            "size": 2570353,
            "filename": "frame_1619705341.253052.jpg",
            "base64_img_data": "",
            "file_attributes": {},
            "regions": {
                "0": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            2310.9560229445506,
                            2328.3709369024855,
                            2386.420650095602,
                            2409.6405353728487,
                            2389.323135755258,
                            2325.46845124283,
                            2310.9560229445506,
                        ],
                        "all_points_y": [
                            1857.5908221797322,
                            1895.3231357552581,
                            1895.3231357552581,
                            1857.5908221797322,
                            1819.8585086042065,
                            1799.5411089866157,
                            1857.5908221797322,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "1": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            2566.0860420650083,
                            2589.3059273422546,
                            2587.854684512427,
                            2566.0860420650083,
                            2551.573613766729,
                            2566.0860420650083,
                        ],
                        "all_points_y": [
                            2088.33843212237,
                            2082.5334608030585,
                            2066.569789674951,
                            2065.1185468451235,
                            2082.5334608030585,
                            2088.33843212237,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "2": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            2643.001912045888,
                            2660.4168260038227,
                            2669.12428298279,
                            2643.001912045888,
                            2643.001912045888,
                        ],
                        "all_points_y": [
                            2179.7667304015285,
                            2182.6692160611847,
                            2162.3518164435936,
                            2157.99808795411,
                            2179.7667304015285,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "3": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            2782.3212237093676,
                            2799.7361376673025,
                            2805.5411089866143,
                            2783.772466539195,
                            2775.0650095602277,
                            2782.3212237093676,
                        ],
                        "all_points_y": [
                            1995.4588910133834,
                            1988.2026768642438,
                            1972.2390057361367,
                            1969.3365200764808,
                            1989.6539196940716,
                            1995.4588910133834,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "4": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            1958.0152963671117,
                            1966.7227533460791,
                            1942.0516252390046,
                            1940.6003824091767,
                            1958.0152963671117,
                        ],
                        "all_points_y": [
                            2571.602294455066,
                            2548.382409177819,
                            2544.0286806883355,
                            2570.151051625238,
                            2571.602294455066,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "5": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            1718.5602294455057,
                            1731.6214149139569,
                            1727.2676864244731,
                            1705.4990439770545,
                            1718.5602294455057,
                        ],
                        "all_points_y": [
                            2525.1625239005725,
                            2522.2600382409164,
                            2503.393881453154,
                            2499.04015296367,
                            2525.1625239005725,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "6": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            1434.1166347992344,
                            1467.4952198852766,
                            1476.202676864244,
                            1434.1166347992344,
                            1434.1166347992344,
                        ],
                        "all_points_y": [
                            2403.2581261950277,
                            2403.2581261950277,
                            2387.2944550669204,
                            2382.9407265774366,
                            2403.2581261950277,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "7": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            1751.9388145315477,
                            1763.548757170171,
                            1747.585086042064,
                            1743.2313575525802,
                            1751.9388145315477,
                        ],
                        "all_points_y": [
                            2123.16826003824,
                            2098.4971319311653,
                            2094.1434034416816,
                            2108.655831739961,
                            2123.16826003824,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "8": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            1271.577437858508,
                            1288.992351816443,
                            1302.0535372848942,
                            1300.6022944550662,
                            1286.0898661567871,
                            1268.6749521988522,
                            1271.577437858508,
                        ],
                        "all_points_y": [
                            2197.1816443594635,
                            2210.2428298279146,
                            2201.535372848947,
                            2179.7667304015285,
                            2175.413001912045,
                            2185.5717017208403,
                            2197.1816443594635,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "9": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            1701.1453154875708,
                            1733.0726577437847,
                            1714.206500956022,
                            1690.9866156787753,
                            1701.1453154875708,
                        ],
                        "all_points_y": [
                            1925.7992351816436,
                            1924.3479923518155,
                            1892.4206500956013,
                            1904.0305927342247,
                            1925.7992351816436,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "10": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            1721.4627151051616,
                            1751.9388145315477,
                            1744.682600382408,
                            1718.5602294455057,
                            1715.6577437858498,
                            1721.4627151051616,
                        ],
                        "all_points_y": [
                            1857.5908221797315,
                            1848.883365200764,
                            1830.017208413001,
                            1827.1147227533452,
                            1854.6883365200756,
                            1857.5908221797315,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "11": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            1394.9330783938808,
                            1410.8967495219879,
                            1410.8967495219879,
                            1384.7743785850853,
                            1394.9330783938808,
                        ],
                        "all_points_y": [
                            1734.2351816443586,
                            1712.46653919694,
                            1697.9541108986607,
                            1709.564053537284,
                            1734.2351816443586,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "12": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            1004.5487571701716,
                            1008.9024856596553,
                            988.5850860420645,
                            979.877629063097,
                            987.1338432122366,
                            1004.5487571701716,
                        ],
                        "all_points_y": [
                            1812.6022944550662,
                            1776.3212237093683,
                            1774.8699808795402,
                            1783.5774378585077,
                            1805.3460803059265,
                            1812.6022944550662,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "13": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            1891.2581261950277,
                            1910.1242829827904,
                            1913.0267686424463,
                            1895.6118546845114,
                            1881.0994263862322,
                            1891.2581261950277,
                        ],
                        "all_points_y": [
                            1551.3785850860413,
                            1551.3785850860413,
                            1531.0611854684505,
                            1522.353728489483,
                            1529.6099426386227,
                            1551.3785850860413,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "14": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            2618.330783938813,
                            2645.9043977055435,
                            2651.7093690248553,
                            2622.684512428297,
                            2618.330783938813,
                        ],
                        "all_points_y": [
                            1619.5869980879534,
                            1606.5258126195022,
                            1581.8546845124276,
                            1587.6596558317392,
                            1619.5869980879534,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "15": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            2744.5889101338416,
                            2783.772466539195,
                            2788.1261950286794,
                            2748.9426386233254,
                            2744.5889101338416,
                        ],
                        "all_points_y": [
                            1448.3403441682594,
                            1449.7915869980873,
                            1420.766730401529,
                            1417.864244741873,
                            1448.3403441682594,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "16": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            2047.9923518164424,
                            2074.1147227533447,
                            2074.1147227533447,
                            2046.5411089866145,
                            2047.9923518164424,
                        ],
                        "all_points_y": [
                            1256.7762906309745,
                            1255.3250478011466,
                            1223.3977055449325,
                            1223.3977055449325,
                            1256.7762906309745,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "17": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            1304.9560229445499,
                            1328.1759082217966,
                            1339.78585086042,
                            1347.0420650095596,
                            1319.4684512428291,
                            1304.9560229445499,
                        ],
                        "all_points_y": [
                            1327.8871892925424,
                            1338.0458891013377,
                            1336.5946462715099,
                            1326.4359464627146,
                            1313.3747609942632,
                            1327.8871892925424,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "18": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            1432.6653919694065,
                            1467.4952198852766,
                            1468.9464627151044,
                            1437.0191204588903,
                            1432.6653919694065,
                        ],
                        "all_points_y": [
                            1290.1548757170167,
                            1294.5086042065004,
                            1277.0936902485653,
                            1269.8374760994259,
                            1290.1548757170167,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "19": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            3113.2045889101323,
                            3145.1319311663465,
                            3158.1931166347977,
                            3127.717017208411,
                            3113.2045889101323,
                        ],
                        "all_points_y": [
                            1345.3021032504773,
                            1367.0707456978962,
                            1354.0095602294448,
                            1333.692160611854,
                            1345.3021032504773,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "20": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            2883.9082217973214,
                            2915.8355640535356,
                            2917.2868068833636,
                            2892.615678776289,
                            2883.9082217973214,
                        ],
                        "all_points_y": [
                            1052.1510516252386,
                            1060.858508604206,
                            1043.443594646271,
                            1026.028680688336,
                            1052.1510516252386,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "21": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            2548.671128107073,
                            2571.8910133843196,
                            2577.6959847036314,
                            2560.2810707456965,
                            2542.8661567877616,
                            2522.5487571701706,
                            2548.671128107073,
                        ],
                        "all_points_y": [
                            1073.9196940726572,
                            1073.9196940726572,
                            1044.894837476099,
                            1033.2848948374756,
                            1028.9311663479918,
                            1049.2485659655827,
                            1073.9196940726572,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "22": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            1930.4416826003812,
                            1943.5028680688324,
                            1963.8202676864232,
                            1965.2715105162513,
                            1946.4053537284883,
                            1930.4416826003812,
                        ],
                        "all_points_y": [
                            888.1606118546841,
                            896.8680688336516,
                            895.4168260038236,
                            878.0019120458887,
                            864.9407265774374,
                            888.1606118546841,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "23": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            1349.9445506692155,
                            1386.2256214149133,
                            1367.3594646271504,
                            1345.5908221797315,
                            1349.9445506692155,
                        ],
                        "all_points_y": [
                            1092.7858508604202,
                            1071.0172084130013,
                            1053.6022944550664,
                            1050.6998087954105,
                            1092.7858508604202,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "24": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            1294.7973231357546,
                            1312.2122370936895,
                            1331.0783938814525,
                            1320.919694072657,
                            1294.7973231357546,
                        ],
                        "all_points_y": [
                            410.7017208413,
                            425.21414913957915,
                            426.66539196940704,
                            390.3843212237092,
                            410.7017208413,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "25": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            2207.629063097513,
                            2241.007648183555,
                            2241.007648183555,
                            2226.495219885276,
                            2209.080305927341,
                            2207.629063097513,
                        ],
                        "all_points_y": [
                            625.4856596558315,
                            648.705544933078,
                            612.4244741873802,
                            606.6195028680686,
                            609.5219885277244,
                            625.4856596558315,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "26": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            2040.7361376673027,
                            2065.4072657743773,
                            2091.5296367112796,
                            2053.797323135754,
                            2040.7361376673027,
                        ],
                        "all_points_y": [
                            216.23518164435936,
                            226.39388145315476,
                            195.91778202676855,
                            191.5640535372848,
                            216.23518164435936,
                        ],
                    },
                    "region_attributes": {"label": "Levure"},
                },
                "27": {
                    "shape_attributes": {
                        "name": "polygon",
                        "all_points_x": [
                            763.9311663479922,
                            1007.7399617590821,
                            1446.0152963671126,
                            1936.5353728489483,
                            2467.6902485659652,
                            2879.8432122370937,
                            3164.2868068833645,
                            3271.6787762906306,
                            3129.4569789674947,
                            2734.718929254302,
                            2342.8833652007647,
                            1797.2160611854683,
                            1335.720841300191,
                            903.2504780114722,
                            697.1739961759081,
                            676.8565965583173,
                            763.9311663479922,
                        ],
                        "all_points_y": [
                            876.5506692160611,
                            496.3250478011472,
                            200.2715105162524,
                            98.68451242829828,
                            194.46653919694072,
                            467.3001912045889,
                            870.7456978967496,
                            1477.3652007648184,
                            1994.0076481835563,
                            2438.087954110899,
                            2641.261950286807,
                            2676.091778202677,
                            2519.357552581262,
                            2142.034416826004,
                            1637.0019120458892,
                            1140.6768642447419,
                            876.5506692160611,
                        ],
                    },
                    "region_attributes": {"label": "Petri_box"},
                },
            },
        },
    }


@pytest.fixture
def vgg_json_file():
    return Path("tests/test_datas/vgg_test.json")


@pytest.fixture
def coco_json_file():
    return Path("tests/test_datas/coco_test.json")


def test_vgg_annotations(vgg_json_model):

    vgg = VggAnnotations.parse_obj(vgg_json_model)

    assert isinstance(vgg, VggAnnotations)


def test_vgg_annotations_from_file(vgg_json_file):

    vgg = VggAnnotations.parse_file(vgg_json_file)

    assert isinstance(vgg, VggAnnotations)


def test_root_vgg_annotations(vgg_json_model):

    vgg = VggAnnotations.parse_obj(vgg_json_model)

    assert len(list(vgg)) == 2


def test_structure_vgg_annotations(vgg_json_model):

    vgg = VggAnnotations.parse_obj(vgg_json_model)

    imgs = list(vgg)

    for img in imgs:

        assert isinstance(vgg[img], VggStructure)


def test_structure_region_vgg_annotations(vgg_json_model):

    vgg = VggAnnotations.parse_obj(vgg_json_model)

    imgs = list(vgg)

    for img in imgs:

        region = list(vgg[img].regions)

        for reg in region:
            assert isinstance(vgg[img].regions[reg], VggRegionsSection)


def test_structure_region_shape_vgg_annotations(vgg_json_model):

    vgg = VggAnnotations.parse_obj(vgg_json_model)

    imgs = list(vgg)

    for img in imgs:

        region = list(vgg[img].regions)

        for reg in region:
            assert isinstance(
                vgg[img].regions[reg].shape_attributes,
                VggShapeAttributesSection,
            )
            assert isinstance(
                vgg[img].regions[reg].region_attributes,
                VggRegionAttributesSection,
            )


def test_coco_annotations(coco_json_model):

    coco = CocoAnnotations.parse_obj(coco_json_model)

    assert isinstance(coco, CocoAnnotations)


def test_coco_annotations_from_file(coco_json_file):

    coco = CocoAnnotations.parse_file(coco_json_file)

    assert isinstance(coco, CocoAnnotations)
